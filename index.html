<HTML>
    <head>
        <title>JS vs. Rust-WASM Sorting</title>
        <link rel="stylesheet" type="text/css" href="main.css">
    </head>
    <body>
        <nav>
            <button id="startSort">Go!</button>
            <div id="sliderContainer">
                <label for="arraySlider">Array Size</label> 
                <input type="range" min="1" max="10000" value="1000" id="arraySlider" name="arraySlider">
                <span id="arraySliderValue">1000</span>
            </div>
        </nav>
        <div id="barContainer">

        </div>
        <script>
            let arraySize = 1000;
            let array = [];

            document.getElementById("startSort").addEventListener("click", () => {
                createBars()
            })

            document.getElementById("arraySlider").addEventListener("input", (e) => {
                arraySize = e.target.value;
                document.getElementById("arraySliderValue").innerText = arraySize;
            })

            window.addEventListener('load' , () => {
                createBars()
            })

            const createBars = () => {
                const barContainer = document.getElementById("barContainer");
                const barContainerDimensions = barContainer.getBoundingClientRect();
                const barContainerWidth = barContainerDimensions.width;
                const barContainerHeight = barContainerDimensions.height;
            
                barContainer.innerHTML = "";

                for(let i = 0; i < arraySize; i++){
                    const value = (Math.random() * 101) + 1;
                    let bar = document.createElement("div");
                    bar.className = "bar";
                    bar.style.height = `${value}%`;
                    bar.style.width = `${barContainerWidth / arraySize}%`
                    barContainer.appendChild(bar);
                }
            }

        </script>
    </body>
</HTML>